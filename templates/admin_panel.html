<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Admin Panel</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; background: #f4f4f4; }
    h1 { color: #007BFF; }
    table { border-collapse: collapse; width: 100%; max-width: 700px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background-color: #007BFF; color: white; }
    form { margin: 0; }
    input, select, button { padding: 5px; }
    .logout { margin-top: 20px; }
  </style>
</head>
<body>
  <h1>Admin Panel</h1>

  <h2>Slot esistenti</h2>
  <table>
    <tr>
      <th>Servizio</th>
      <th>Giorno</th>
      <th>Ora</th>
      <th>Azioni</th>
    </tr>
    {% for idx, slot in enumerate(slots) %}
    <tr>
      <form method="post" action="{{ url_for('edit_slot', idx=idx) }}">
        <td>
          <select name="servizio" required>
            <option value="1to1" {% if slot.servizio == "1to1" %}selected{% endif %}>1to1</option>
            <option value="coppia" {% if slot.servizio == "coppia" %}selected{% endif %}>coppia</option>
            <option value="funzionale" {% if slot.servizio == "funzionale" %}selected{% endif %}>funzionale</option>
          </select>
        </td>
        <td><input type="text" name="giorno" value="{{ slot.giorno }}" required /></td>
        <td><input type="time" name="ora" value="{{ slot.ora }}" required /></td>
        <td>
          <button type="submit" name="action" value="modifica">Modifica</button>
          <button type="submit" name="action" value="elimina" onclick="return confirm('Sei sicuro di eliminare questo slot?')">Elimina</button>
        </td>
      </form>
    </tr>
    {% endfor %}
  </table>

  <h2>Aggiungi nuovo slot</h2>
  <form method="post" action="{{ url_for('add_slot') }}">
    <label>Servizio:
      <select name="servizio" required>
        <option value="1to1">1to1</option>
        <option value="coppia">coppia</option>
        <option value="funzionale">funzionale</option>
      </select>
    </label>
    <label> Giorno:
      <input type="text" name="giorno" placeholder="Es. LunedÃ¬" required />
    </label>
    <label> Ora:
      <input type="time" name="ora" required />
    </label>
    <button type="submit">Aggiungi</button>
  </form>

  <p class="logout"><a href="{{ url_for('admin_logout') }}">Logout</a></p>
</body>
</html>
